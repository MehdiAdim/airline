{% extends 'layout.html' %}
{% block body %}
{% from "includes/_formhelpers.html" import render_field %}
<h1>All Employees <button class="btn btn-default" onclick="show_add();"><span class="glyphicon glyphicon-plus"></span></button></h1>

<div class="panel panel-default" id="add" {% if form_val %}style="display: none;"{% endif %}>
    <div class="panel-heading">Add an employee</div>
    <div class="panel-body">
        <form action="" method="POST">
            <div class="form-group">
                {{render_field(form.firstname, class_="form-control")}}
            </div>
            <div class="form-group">
                {{render_field(form.surname, class_="form-control")}}
            </div>
            <div class="form-group">
                {{render_field(form.address, class_="form-control")}}
            </div>
            <div class="form-group">
                {{render_field(form.salary, class_="form-control")}}
            </div>
            <div class="form-group">
                {{render_field(form.flight_hours, class_="form-control")}}
            </div>
            <div class="form-group">
                {{render_field(form.social_security_number, class_="form-control")}}
            </div>
            <div class="form-group">
                {{render_field(form.role, class_="form-control")}}
            </div>
            

            <button type="submit" class="btn btn-primary">Add</button>
        </form>
    </div>
</div>

<table class="table table-striped">
    <tr>
        <th> Firstname</th>
        <th> Surname</th>
        <th> Address </th>
        <th> Salary </th>
        <th> Hours of flight </th>
        <th> SSN </th>
        <th> Role </th>
        <th> Edit </th>
    </tr>
    {% for x in employees %}
    
    <tr>
        <td> {{x[3]}}</td>
        <td> {{x[4]}}</td>
        <td> {{x[2]}}</td>
        <td> {{x[1]}}</td>
        <td> {{x[5]}}</td>
        <td> {{x[6]}}</td>
        <td> {{x[9]}}</td>
        <td> <a href="edit/employee/{{x[0]}}" class="btn btn-default pullright"> Edit</a></td>

    </tr>
    {% endfor %}
</table>


<script>
    function show_add() {
        if (document.getElementById("add").style.display === "block") {
            document.getElementById("add").style.display = "none";
        } else {
            document.getElementById("add").style.display = "block";
        }
    }
</script>
{% endblock %}